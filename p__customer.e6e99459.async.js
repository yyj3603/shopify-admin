(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"5ESp":function(e,t,n){"use strict";n.r(t);n("IzEo");var a=n("bx4M"),o=(n("g9YV"),n("wCAj")),r=(n("+L6B"),n("2/Rp")),l=n("gWZ8"),c=n.n(l),i=(n("cIOH"),n("Q9mQ"),n("q1tI")),s=n.n(i),u=n("VCL8"),p=n("3S7+"),m=n("CtXQ"),d=n("YMnH"),f=n("ZvpZ"),y=n("H84U");function v(e){return v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function w(e,t){return!t||"object"!==v(t)&&"function"!==typeof t?C(e):t}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}var x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},P=function(e){function t(e){var n;return b(this,t),n=w(this,k(t).call(this,e)),n.onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(C(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(C(n),e)},n.onVisibleChange=function(e){var t=n.props.disabled;t||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var a=n.props,o=a.okButtonProps,l=a.cancelButtonProps,c=a.title,s=a.cancelText,u=a.okText,p=a.okType,m=a.icon;return i["createElement"]("div",null,i["createElement"]("div",{className:"".concat(e,"-inner-content")},i["createElement"]("div",{className:"".concat(e,"-message")},m,i["createElement"]("div",{className:"".concat(e,"-message-title")},c)),i["createElement"]("div",{className:"".concat(e,"-buttons")},i["createElement"](r["a"],h({onClick:n.onCancel,size:"small"},l),s||t.cancelText),i["createElement"](r["a"],h({onClick:n.onConfirm,type:p,size:"small"},o),u||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,a=n.props,o=a.prefixCls,r=a.placement,l=x(a,["prefixCls","placement"]),c=t("popover",o),s=i["createElement"](d["a"],{componentName:"Popconfirm",defaultLocale:f["a"].Popconfirm},function(e){return n.renderOverlay(c,e)});return i["createElement"](p["a"],h({},l,{prefixCls:c,placement:r,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:s,ref:n.saveTooltip}))},n.state={visible:e.visible},n}return S(t,e),E(t,[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return i["createElement"](y["a"],null,this.renderConfirm)}}],[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}]),t}(i["Component"]);P.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:i["createElement"](m["a"],{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(u["polyfill"])(P);var R,j,_,A=P,V=(n("/zsF"),n("PArb")),T=(n("+BJd"),n("mr32")),N=n("2Taf"),D=n.n(N),K=n("vZ4D"),I=n.n(K),M=n("l4Ni"),z=n.n(M),Q=n("ujKo"),B=n.n(Q),Z=n("MhPg"),J=n.n(Z),H=(n("OaEy"),n("2fM7")),L=(n("y8nQ"),n("Vl3Y")),Y=n("MuoO"),F=(n("CkN6"),n("zHco")),U=n("QMmz"),W=n("wY1l"),q=n.n(W),X=(n("dCQc"),L["a"].Item,H["a"].Option),G=(R=Object(Y["connect"])(function(e){var t=e.customers,n=e.loading;return{customers:t.customers,loading:n.effects["customers/fetch"]}}),R((_=function(e){function t(){var e,n;D()(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=z()(this,(e=B()(t)).call.apply(e,[this].concat(o))),n.state={selectedRowKeys:[],selectedRows:[],pagination:{pageSize:10,simple:!1,total:n.props.customers.length,showQuickJumper:"howQuickJumper",defaultCurrent:1}},n.onSelectChange=function(e,t){console.log("selectedRowKeys changed: ",e),n.setState({selectedRowKeys:e}),console.log("selectedRowKeysID: ",e),n.setState({selectedRows:t}),console.log("selectedRowKeysID: ",t)},n.columns=[{title:n.props.customers.length+":customers",render:function(e,t){return t.first_name+" "+t.last_name}},{title:"\u57ce\u5e02\u548c\u56fd\u5bb6",render:function(e,t){return t.addresses.map(function(e){return e.city})+" "+t.addresses.map(function(e){return e.country_code})}},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email"},{title:"\u8ba2\u5355\u6570",dataIndex:"orders_count",key:"orders_count"},{title:"\u82b1\u8d39",dataIndex:"total_spent",key:"total_spent"},{title:"Tags",key:"tags",dataIndex:"tags",render:function(e){return s.a.createElement("span",{style:{display:""==e?"none":"block"}},e.split(",").map(function(e){var t=e.length>9?"red":"green";return e.length>=6&&e.length<=8&&(t="volcano"),e.length>4&&e.length<6&&(t="geekblue"),e.length<=4&&(t="green"),s.a.createElement(T["a"],{color:t,key:e},e.toUpperCase())}))}},{title:"Action",key:"action",render:function(e,t){var a=t.id,o=t.orders_count;return s.a.createElement("span",null,s.a.createElement(q.a,{to:"/customers/editcustomers"},s.a.createElement("a",{onClick:function(){return n.handleEdit(t)}},"\u7f16\u8f91")),s.a.createElement(V["a"],{type:"vertical"}),s.a.createElement(A,{title:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u9879?",onConfirm:function(){return n.handleDelOne(a,o)}},s.a.createElement("a",null,"\u5220\u9664")))}}],n.handleSelectRows=function(e){n.setState({selectedRows:e})},n.handleModalVisible=function(e){n.setState({modalVisible:!!e})},n}return J()(t,e),I()(t,[{key:"handleEdit",value:function(e){var t=this.props.dispatch;this.props.history.push("/customers/editcustomers"),console.log(e),t({type:"customers/getedit",apayload:e})}},{key:"handleEditAll",value:function(e){var t=this.props.dispatch;t({type:"customers/getedit",apayload:e})}},{key:"handleDelOne",value:function(e,t){var n=this,a=this.props.dispatch;console.log(e),0==t?(a({type:"customers/remove",payload:{id:e},callback:function(){n.setState({selectedRowKeys:[]})}}),alert("\u5df2\u6210\u529f\u5220\u9664\u6b64\u7528\u6237\uff01\uff01\uff01")):alert("\u4e0d\u80fd\u5220\u9664\u8ba2\u5355\u6570\u5927\u4e8e0\u7684\u5ba2\u6237\uff01\uff01\uff01")}},{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"customers/fetch"})}},{key:"render",value:function(){var e=this,t=this.props.customers,n=this.columns,l=this.state.selectedRowKeys,i={selectedRowKeys:l,onChange:this.onSelectChange,hideDefaultSelections:!0,selections:[{key:"all-data",text:"Select All Data",onSelect:function(){e.setState({selectedRowKeys:c()(Array(e.state.pagination.pageSize).keys())})}},{key:"odd",text:"Select Odd Row",onSelect:function(t){var n=[];n=t.filter(function(e,t){return t%2===0}),e.setState({selectedRowKeys:n})}},{key:"even",text:"Select Even Row",onSelect:function(t){var n=[];n=t.filter(function(e,t){return t%2!==0}),e.setState({selectedRowKeys:n})}}]};return s.a.createElement("div",null,console.log("\u987e\u5ba2\uff1a----------------",this.props.customers),console.log("\u5206\u9875\u5927\u5c0f",this.state.pagination.pageSize),s.a.createElement(F["a"],{title:"\u5ba2\u6237"},s.a.createElement(a["a"],null,s.a.createElement("div",{className:"card_customer_head",style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",borderBottom:"solid 1px  \t#EAEAEA"}},s.a.createElement("div",{style:{width:"32px",height:"35px",borderBottom:"solid 4px #0000ff"}},"\u6240\u6709"),s.a.createElement(q.a,{to:"/customers/addcustomers"},s.a.createElement(r["a"],{icon:"plus",type:"primary"},"\u6dfb\u52a0\u5ba2\u6237"))),s.a.createElement("br",null),s.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},s.a.createElement(H["a"],{defaultValue:"0",style:{width:"150px"}},s.a.createElement(X,{value:"0"},"Select a filter"),s.a.createElement(X,{value:"1"},"Money spent"),s.a.createElement(X,{value:"2"},"Number of orders"),s.a.createElement(X,{value:"3"},"Placed an order"),s.a.createElement(X,{value:"4"},"Date created"),s.a.createElement(X,{value:"5"},"Accepts email marketing"),s.a.createElement(X,{value:"6"},"Abandoned order"),s.a.createElement(X,{value:"7"},"Account status"),s.a.createElement(X,{value:"8"},"Tagged with"),s.a.createElement(X,{value:"9"},"Located in")),s.a.createElement(U["a"],null),s.a.createElement("div",{style:{width:"150px",textAlign:"center"}},"Sort by"),s.a.createElement(H["a"],{defaultValue:"0",style:{width:"150px"}},s.a.createElement(X,{value:"0"},"Newest update"),s.a.createElement(X,{value:"1"},"Oldest update"),s.a.createElement(X,{value:"2"},"Most spent"),s.a.createElement(X,{value:"3"},"Most orders"),s.a.createElement(X,{value:"4"},"Customer A-Z"),s.a.createElement(X,{value:"5"},"Customer Z-A"))),s.a.createElement("div",{style:{marginTop:"25px"}},s.a.createElement(q.a,{to:"/customers/editcustomers"},s.a.createElement(r["a"],{icon:"plus",type:"primary",onClick:this.handleEditAll(this.state.selectedRows)},"\u7f16\u8f91\u9009\u4e2d\u5ba2\u6237\u5ba2\u6237"))),s.a.createElement("div",{style:{marginTop:"25px"}},s.a.createElement(o["a"],{rowSelection:i,columns:n,dataSource:t,pagination:this.state.pagination,scroll:{y:500}}),";")),s.a.createElement("br",null)))}}]),t}(i["Component"]),j=_))||j);t["default"]=G}}]);